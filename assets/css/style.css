/* =============================================================
 * Šolski center Celje – Dark‑mode Design System
 * FULL stylesheet (dark‑only) following brand guidelines
 * Primary colour  : #00457c  (Pantone 295 C – temno modra)
 * Secondary colour: #95a0a9  (Pantone 7544 C – siva)
 * Typography      : Utsaah Bold (headings) · Calibri (body)
 * ============================================================ */

/******************************
 * 1. DESIGN TOKENS / VARIABLES
 ******************************/
:root {
  /* ── Brand palette ───────────────────────── */
  --sc-primary: #00457c;
  --sc-gray: #95a0a9;

  /* ── Extended color system ──────────────── */
  /* Primary color shades */
  --sc-primary-100: #e6eef5; /* lightest */
  --sc-primary-200: #b3cce3;
  --sc-primary-300: #80aad2;
  --sc-primary-400: #4d88c0;
  --sc-primary-500: #1a67af;
  --sc-primary-600: #00457c;
  --sc-primary-700: #003764;
  --sc-primary-800: #002a4b;
  --sc-primary-900: #001c32; /* darkest */

  /* Gray color shades */
  --sc-gray-100: #f5f6f7;
  --sc-gray-200: #e1e4e7;
  --sc-gray-300: #cdd2d7;
  --sc-gray-400: #b9c0c6;
  --sc-gray-500: #a5adb5;
  --sc-gray-600: #95a0a9;
  --sc-gray-700: #778088;
  --sc-gray-800: #5a6066;
  --sc-gray-900: #3c4044;

  /* ── UI semantic colours (non‑brand) ─────── */
  --accent-primary: var(--sc-primary-600);         /* CTAs, focus */
  --accent-primary-hover: var(--sc-primary-700);   /* Hover state */
  --accent-secondary: var(--sc-gray-600);          /* Secondary actions */
  --accent-tertiary: var(--sc-primary-500);        /* Tertiary actions, links hover - modernized purple-blue */
  --accent-success: #4caf50;                       /* Success states and confirmations */
  --accent-warning: #ff9800;                       /* Warnings - more vibrant orange */
  --accent-error: #f44336;                         /* Errors - more vibrant red */
  --accent-info: #29b6f6;                          /* Information messages */

  /* ── Modern dark mode foundations ──────────── */
  --bg-base: #121212;                       /* Application base */
  --bg-surface: #1e1e1e;                    /* Base surfaces */
  --bg-primary: #222222;                    /* Page background - slightly lighter */
  --bg-secondary: #2d2d2d;                  /* Cards, elevated surfaces */
  --bg-tertiary: #383838;                   /* Inputs, table headers */
  --bg-elevated: #424242;                   /* Popovers, dropdowns */

  /* Gradient backgrounds */
  --gradient-primary: linear-gradient(135deg, var(--sc-primary-700) 0%, var(--sc-primary-600) 100%);
  --gradient-accent: linear-gradient(135deg, var(--accent-primary) 0%, var(--accent-tertiary) 100%);

  /* ── Typography system ─────────────────────── */
  --font-heading: 'Utsaah', 'Calibri', 'Tahoma', sans-serif;
  --font-primary: 'Calibri', 'Segoe UI', 'Arial', sans-serif;

  /* Font weights */
  --font-weight-regular: 400;
  --font-weight-medium: 500;
  --font-weight-semibold: 600;
  --font-weight-bold: 700;

  /* Modern type scale (based on 1.25 ratio) */
  --font-size-xs: 0.75rem;      /* 12px */
  --font-size-sm: 0.875rem;     /* 14px */
  --font-size-md: 1rem;         /* 16px - base */
  --font-size-lg: 1.25rem;      /* 20px */
  --font-size-xl: 1.563rem;     /* 25px */
  --font-size-xxl: 1.953rem;    /* 31px */
  --font-size-xxxl: 2.441rem;   /* 39px */

  /* Improved line heights */
  --line-height-tight: 1.2;
  --line-height-snug: 1.4;
  --line-height-normal: 1.6;
  --line-height-relaxed: 1.8;

  /* Letter spacing */
  --letter-spacing-tight: -0.025em;
  --letter-spacing-normal: 0;
  --letter-spacing-wide: 0.025em;

  /* ── Spacing scale ───────────────────────── */
  --space-3xs: 0.125rem;  /* 2px */
  --space-2xs: 0.25rem;   /* 4px */
  --space-xs: 0.5rem;     /* 8px */
  --space-sm: 0.75rem;    /* 12px */
  --space-md: 1rem;       /* 16px */
  --space-lg: 1.5rem;     /* 24px */
  --space-xl: 2rem;       /* 32px */
  --space-2xl: 3rem;      /* 48px */
  --space-3xl: 4rem;      /* 64px */

  /* ── Border radius system ──────────────── */
  --radius-sm: 4px;
  --radius-md: 8px;
  --radius-lg: 12px;
  --radius-xl: 16px;
  --radius-2xl: 24px;
  --radius-full: 9999px;
  --card-radius: var(--radius-lg);

  /* ── Modern elevation/shadow system ────── */
  --shadow-xs: 0 1px 3px rgba(0, 0, 0, 0.12);
  --shadow-sm: 0 2px 4px rgba(0, 0, 0, 0.15), 0 1px 2px rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.15), 0 2px 4px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.2), 0 4px 6px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 20px 25px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.2);
  --card-shadow: var(--shadow-md);

  /* ── Transition system ──────────────────── */
  --transition-fast: 150ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-normal: 250ms cubic-bezier(0.4, 0, 0.2, 1);
  --transition-slow: 350ms cubic-bezier(0.4, 0, 0.2, 1);
  --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);
  --ease-out: cubic-bezier(0, 0, 0.2, 1);
  --ease-in: cubic-bezier(0.4, 0, 1, 1);

  /* ── Text colours ───────────────────────── */
  --text-primary: rgba(255, 255, 255, 0.9);    /* Increased contrast */
  --text-secondary: rgba(255, 255, 255, 0.7);  /* More visible secondary text */
  --text-tertiary: rgba(255, 255, 255, 0.5);   /* Additional level */
  --text-disabled: rgba(255, 255, 255, 0.38);

  /* ── Border colors ───────────────────────── */
  --border-subtle: rgba(255, 255, 255, 0.12);
  --border-default: rgba(255, 255, 255, 0.2);
  --border-focus: var(--accent-primary);

  /* ── Role-specific profile colors ────────── */
  --profile-admin: var(--accent-primary);
  --profile-teacher: var(--accent-secondary);
  --profile-student: var(--accent-tertiary);
  --profile-parent: var(--accent-info);
}

/******************************
 * 2. GLOBAL RESET & BASE
 ******************************/
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
html{font-size:16px;scroll-behavior:smooth}
body{
  font-family:var(--font-primary);
  background-color:var(--bg-primary);
  color:var(--text-primary);
  line-height:1.6;
  min-height:100vh;
}

h1,h2,h3,h4,h5,h6{
  font-family:var(--font-heading);
  font-weight:700;
  line-height:1.2;
  margin-bottom:var(--space-md);
}
h1{font-size:var(--font-size-xxl)}
h2{font-size:var(--font-size-xl)}
h3{font-size:var(--font-size-lg)}
h4{font-size:var(--font-size-md)}
h5{font-size:var(--font-size-sm)}
h6{font-size:var(--font-size-xs)}

p{margin-bottom:var(--space-md)}
a{color:var(--accent-primary);text-decoration:none;transition:color var(--transition-fast)}
a:hover{color:var(--accent-tertiary);text-decoration:underline}
img{max-width:100%;height:auto}

/******************************
 * 3. LAYOUT HELPERS
 ******************************/
.container{width:100%;max-width:1200px;padding:0 var(--space-md);margin:0 auto}
.page-wrapper{padding:var(--space-xl) 0;min-height:calc(100vh - 120px)}
.main-content{padding:var(--space-lg)}
.dashboard-grid{
  display:grid;
  grid-template-columns:repeat(auto-fill,minmax(300px,1fr));
  gap:var(--space-lg);
  padding:var(--space-lg);
}

/* Added responsive grid adjustments */
@media (max-width: 768px) {
  .dashboard-grid {
    grid-template-columns: 1fr;
    padding: var(--space-md);
  }
  .container {
    padding: 0 var(--space-sm);
  }
  .page-wrapper {
    padding: var(--space-md) 0;
  }
}

/******************************
 * 4. COMPONENTS
 ******************************/
/* CARDS */
.card{
  background:var(--bg-secondary);
  border-radius:var(--card-radius);
  box-shadow:var(--card-shadow);
  padding:var(--space-lg);
  transition:transform var(--transition-normal),
  box-shadow var(--transition-normal);
}
.card:hover{
  transform:translateY(-5px);
  box-shadow:0 8px 25px rgba(0,0,0,0.4);
}
.card-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:var(--space-md);
  padding-bottom:var(--space-sm);
  border-bottom:1px solid rgba(255,255,255,.1);
}
.card-title{font-size:var(--font-size-lg)}

/* NAVBAR */
.navbar{
  background:var(--bg-secondary);
  box-shadow:0 2px 10px rgba(0,0,0,.3);
  position:sticky;
  top:0;
  z-index:1000;
}
.navbar-container{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:var(--space-md);
}
.navbar-brand{
  font-size:var(--font-size-xl);
  font-family:var(--font-heading);
  font-weight:700;
  color:var(--accent-primary);
}
.navbar-menu{
  display:flex;
  list-style:none;
  margin:0;
  padding:0;
}
.navbar-item{margin-left:var(--space-lg)}
.navbar-link{
  color:var(--text-primary);
  font-weight:500;
  padding:var(--space-xs) var(--space-sm);
  border-radius:4px;
  transition:background var(--transition-fast),
  color var(--transition-fast);
}
.navbar-link:hover{
  background:rgba(255,255,255,.1);
  text-decoration:none;
  color:var(--text-primary);
}

/* Added mobile menu toggle */
.navbar-toggle {
  display: none;
  flex-direction: column;
  justify-content: space-between;
  width: 30px;
  height: 21px;
  cursor: pointer;
}
.navbar-toggle span {
  height: 3px;
  width: 100%;
  background-color: var(--text-primary);
  border-radius: 3px;
  transition: all var(--transition-normal);
}

@media (max-width: 768px) {
  .navbar-toggle {
    display: flex;
  }
  .navbar-menu {
    position: fixed;
    top: 0;
    right: -100%;
    width: 70%;
    height: 100vh;
    background: var(--bg-secondary);
    flex-direction: column;
    align-items: flex-start;
    padding: var(--space-xl) var(--space-lg);
    box-shadow: -5px 0 15px rgba(0,0,0,0.3);
    transition: right var(--transition-normal);
    z-index: 1001;
  }
  .navbar-menu.active {
    right: 0;
  }
  .navbar-item {
    margin: 0 0 var(--space-md) 0;
    width: 100%;
  }
  .navbar-link {
    display: block;
    padding: var(--space-sm);
    width: 100%;
  }
}

/* BUTTONS */
.btn{
  background:var(--bg-tertiary);
  color:var(--text-primary);
  border:none;
  border-radius:8px;
  padding:var(--space-sm) var(--space-lg);
  font-weight:500;
  font-size:var(--font-size-sm);
  cursor:pointer;
  box-shadow:0 2px 5px rgba(0,0,0,.2);
  transition:all var(--transition-fast);
  display:inline-flex;
  align-items:center;
  gap:var(--space-xs);
}
.btn-primary{background:var(--accent-primary)}
.btn-secondary{background:var(--accent-secondary);color:#000}
.btn-tertiary{background:var(--accent-tertiary);color:#000}
.btn-warning{background:var(--accent-warning);color:#000}
.btn-error{background:var(--accent-error)}
.btn:hover{
  transform:translateY(-2px);
  box-shadow:0 4px 8px rgba(0,0,0,.3);
}
.btn:active{
  transform:translateY(1px);
  box-shadow:0 1px 3px rgba(0,0,0,.2);
}
.btn:disabled{
  opacity:.6;
  cursor:not-allowed;
  transform:none;
  box-shadow:none;
}
.btn-icon{
  width:40px;
  height:40px;
  padding:0;
  border-radius:50%;
  justify-content:center;
}

/* FORMS */
.form-group{margin-bottom:var(--space-lg)}
.form-label{
  display:block;
  margin-bottom:var(--space-xs);
  color:var(--text-secondary);
  font-size:var(--font-size-sm);
}
.form-input{
  width:100%;
  background:var(--bg-tertiary);
  border:none;
  border-radius:8px;
  padding:var(--space-md);
  color:var(--text-primary);
  box-shadow:inset 0 2px 4px rgba(0,0,0,.1);
  font-size:var(--font-size-md);
  transition:box-shadow var(--transition-fast),
  transform var(--transition-fast);
}
.form-input:focus{
  outline:none;
  box-shadow:inset 0 2px 4px rgba(0,0,0,.1),
  0 0 0 2px var(--accent-primary);
  transform: translateY(-1px);
}
.form-input::placeholder{color:var(--text-disabled)}

/* Enhanced form inputs for better mobile UX */
@media (max-width: 768px) {
  .form-input {
    font-size: 16px; /* Prevents zoom on mobile */
    padding: var(--space-sm) var(--space-md);
  }
}

/* TABLES */
.table-wrapper{
  overflow-x:auto;
  background:var(--bg-secondary);
  border-radius:var(--card-radius);
  box-shadow:var(--card-shadow);
  margin-bottom:var(--space-lg);
}
.table{width:100%;border-collapse:collapse}
.table th,.table td{
  padding:var(--space-md);
  text-align:left;
  border-bottom:1px solid rgba(255,255,255,.1);
}
.table th{
  background:var(--bg-tertiary);
  color:var(--text-secondary);
  font-weight:500;
  font-size:var(--font-size-sm);
  text-transform:uppercase;
  position: sticky;
  top: 0;
}
.table tr{
  transition: background-color var(--transition-fast);
}
.table tr:hover{background:rgba(255,255,255,.05)}

/* Mobile-friendly tables */
@media (max-width: 768px) {
  .table th, .table td {
    padding: var(--space-sm);
  }
  .table {
    font-size: var(--font-size-sm);
  }
}

/* BADGES */
.badge{
  display:inline-block;
  padding:var(--space-xs) var(--space-sm);
  border-radius:12px;
  font-size:var(--font-size-xs);
  font-weight:500;
  background:var(--bg-tertiary);
  color:var(--text-secondary);
}
.badge-primary{background:rgba(0,69,124,.2);color:var(--accent-primary)}
.badge-secondary{background:rgba(149,160,169,.2);color:var(--accent-secondary)}
.badge-tertiary{background:rgba(187,134,252,.2);color:var(--accent-tertiary)}
.badge-warning{background:rgba(255,159,10,.2);color:var(--accent-warning)}

/* ALERTS */
.alert{
  padding:var(--space-md);
  border-radius:8px;
  margin-bottom:var(--space-lg);
  background:var(--bg-tertiary);
  display:flex;
  align-items:center;
  gap:var(--space-md);
  animation: slide-in-right var(--transition-normal) forwards;
}
.alert-success{border-left:4px solid var(--accent-secondary)}
.alert-warning{border-left:4px solid var(--accent-warning)}
.alert-error{border-left:4px solid var(--accent-error)}

/* MODAL */
.modal-overlay{
  position:fixed;
  top:0;
  left:0;
  right:0;
  bottom:0;
  background:rgba(0,0,0,.7);
  display:flex;
  justify-content:center;
  align-items:center;
  z-index:1000;
  opacity:0;
  visibility:hidden;
  transition:opacity var(--transition-normal);
  backdrop-filter:blur(4px);
}
.modal-overlay.visible{opacity:1;visibility:visible}
.modal{
  background:var(--bg-secondary);
  border-radius:var(--card-radius);
  box-shadow:var(--card-shadow);
  width:90%;
  max-width:550px;
  max-height:90vh;
  overflow-y:auto;
  transform:translateY(20px);
  transition:transform var(--transition-normal),
  opacity var(--transition-normal);
  opacity:0;
}
.modal-overlay.visible .modal{transform:translateY(0);opacity:1}
.modal-header{
  padding:var(--space-lg);
  border-bottom:1px solid rgba(255,255,255,.1);
  display:flex;
  justify-content:space-between;
  align-items:center;
}
.modal-title{font-size:var(--font-size-lg);font-family:var(--font-heading)}
.modal-body{padding:var(--space-lg)}
.modal-footer{
  padding:var(--space-md) var(--space-lg);
  border-top:1px solid rgba(255,255,255,.1);
  display:flex;
  justify-content:flex-end;
  gap:var(--space-md);
}

/* NOTIFICATIONS */
.notification-container{
  position:fixed;
  top:var(--space-lg);
  right:var(--space-lg);
  width:320px;
  max-width:calc(100vw - var(--space-lg)*2);
  z-index:1100;
  display:flex;
  flex-direction:column;
  gap:var(--space-sm);
}
.notification{
  background:var(--bg-secondary);
  border-radius:var(--card-radius);
  box-shadow:var(--card-shadow);
  padding:var(--space-md);
  display:flex;
  gap:var(--space-md);
  transform:translateX(100%);
  opacity:0;
  transition:transform var(--transition-normal),
  opacity var(--transition-normal);
  border-left:4px solid var(--accent-primary);
}
.notification.visible{transform:translateX(0);opacity:1}
.notification-success{border-left-color:var(--accent-secondary)}
.notification-warning{border-left-color:var(--accent-warning)}
.notification-error{border-left-color:var(--accent-error)}

/* USER PROFILE */
.profile-picture {
  width: 40px;
  height: 40px;
  border-radius: 50%;
  overflow: hidden;
  border: 3px solid transparent;
  transition: transform var(--transition-normal);
}
.profile-picture:hover {
  transform: scale(1.1);
}
.profile-picture img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}
/* Role-specific profile borders */
.profile-admin {
  border-color: var(--profile-admin);
}
.profile-teacher {
  border-color: var(--profile-teacher);
}
.profile-student {
  border-color: var(--profile-student);
}
.profile-parent {
  border-color: var(--profile-parent);
}

/* LOADING INDICATORS */
.loading-spinner {
  width: 30px;
  height: 30px;
  border: 3px solid rgba(255,255,255,0.1);
  border-radius: 50%;
  border-top-color: var(--accent-primary);
  animation: spin 1s ease-in-out infinite;
  margin: 0 auto;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

.skeleton {
  background: linear-gradient(90deg,
  var(--bg-tertiary) 25%,
  rgba(255,255,255,0.05) 50%,
  var(--bg-tertiary) 75%);
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s infinite;
  border-radius: 4px;
  height: 1em;
  margin-bottom: 0.5em;
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/******************************
 * 5. UTILITIES
 ******************************/
.text-center{text-align:center}
.text-right{text-align:right}
.text-accent{color:var(--accent-primary)}
.mt-xs{margin-top:var(--space-xs)}
.mt-sm{margin-top:var(--space-sm)}
.mt-md{margin-top:var(--space-md)}
.mt-lg{margin-top:var(--space-lg)}
.mb-xs{margin-bottom:var(--space-xs)}
.mb-sm{margin-bottom:var(--space-sm)}
.mb-md{margin-bottom:var(--space-md)}
.mb-lg{margin-bottom:var(--space-lg)}
.mx-auto{margin-left:auto;margin-right:auto}
.d-flex{display:flex}
.flex-column{flex-direction:column}
.flex-grow{flex-grow:1}
.align-center{align-items:center}
.justify-between{justify-content:space-between}
.justify-center{justify-content:center}
.gap-sm{gap:var(--space-sm)}
.gap-md{gap:var(--space-md)}
.d-none{display:none}
.opacity-50{opacity:0.5}

/* Animation utility classes */
.fade-in {
  animation: fade-in var(--transition-normal) forwards;
}
.slide-in-right {
  animation: slide-in-right var(--transition-normal) forwards;
}
.slide-in-left {
  animation: slide-in-left var(--transition-normal) forwards;
}
.scale-in {
  animation: scale-in var(--transition-normal) forwards;
}

@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes slide-in-right {
  from { transform: translateX(30px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
@keyframes slide-in-left {
  from { transform: translateX(-30px); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
@keyframes scale-in {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}

/******************************
 * 6. ACCESSIBILITY & PRINT
 ******************************/
*:focus-visible{outline:2px solid var(--accent-primary);outline-offset:2px;border-radius:4px}
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

@media print{
  body{background:#fff;color:#000;font-size:12pt}
  .navbar,.btn,.notification-container,.modal-overlay{display:none!important}
  .card,.table-wrapper{box-shadow:none;border:1px solid #ddd}
  .table th{background:#f0f0f0;color:#000}
}
